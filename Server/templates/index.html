<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor Daten Seite</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<h1>Sensor Daten Seite</h1>
<canvas id="myChart" width="400" height="400"></canvas>

<div id="table-container"></div>

<script>
    // Hier kannst du den Code einfügen, um den Graphen zu erstellen
    var data = {{ sensor_data | tojson }};

    var labels = data.map(item => item.ort);
    var values = data.map(item => item.CO);

    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: "CO",
                data: values,
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // Hier kannst du den Code einfügen, um die Tabelle zu rendern
    var tableContainer = document.getElementById('table-container');
    var table = document.createElement('table');

    // Header erstellen
    var thead = document.createElement('thead');
    var headerRow = document.createElement('tr');
    for (var key in data[0]) {
        var th = document.createElement('th');
        th.textContent = key;
        headerRow.appendChild(th);
    }
    thead.appendChild(headerRow);
    table.appendChild(thead);

    // Daten einfügen
    var tbody = document.createElement('tbody');
    data.forEach(function(item) {
        var row = document.createElement('tr');
        for (var key in item) {
            var td = document.createElement('td');
            td.textContent = item[key];
            row.appendChild(td);
        }
        tbody.appendChild(row);
    });
    table.appendChild(tbody);

    tableContainer.appendChild(table);
</script>

</body>
</html>
